<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Chatbot Website</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    body {
      font-family: 'Inter', sans-serif;
    }

    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .chat-container {
      max-height: 350px;
      overflow-y: auto;
    }

    .message-user {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .message-bot {
      background: #f3f4f6;
      border-left: 4px solid #10b981;
    }

    .typing-indicator {
      display: none;
    }

    .typing-indicator.show {
      display: flex;
    }

    .dot {
      animation: typing 1.4s infinite ease-in-out;
    }

    .dot:nth-child(1) { animation-delay: -0.32s; }
    .dot:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% { transform: scale(0); }
      40% { transform: scale(1); }
    }

    .chat-toggle {
      transition: all 0.3s ease;
    }

    .chat-toggle:hover {
      transform: scale(1.1);
    }

    .slide-up {
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @layer base {
      ul {
        list-style-type: circle;
      }
      ol {
        list-style-type: decimal;
      }
    }
  </style>
</head>

<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white">
        <div class="container mx-auto px-6 py-16">
            <div class="text-center">
                <h1 class="text-5xl font-bold mb-6">
                    Welcome to Our
                    <span class="text-green-300">AI-Powered</span> Website
                </h1>
                <p class="text-xl mb-8 max-w-2xl mx-auto">
                    Experience the future of customer support with our intelligent chatbot assistant. 
                    Get instant answers and personalized help 24/7.
                </p>
                <button onclick="toggleChat()" class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors">
                    Try Our Chatbot
                </button>
            </div>
        </div>
    </header>

    <!-- Features Section -->
    <section class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Why Choose Our AI Assistant?</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-lg shadow-lg text-center hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-green-600 text-2xl">ü§ñ</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4">Smart AI</h3>
                    <p class="text-gray-600">Advanced artificial intelligence that understands context and provides accurate responses.</p>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-lg text-center hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-blue-600 text-2xl">‚ö°</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4">Lightning Fast</h3>
                    <p class="text-gray-600">Get instant responses to your questions without any waiting time.</p>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-lg text-center hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-purple-600 text-2xl">üåç</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4">24/7 Available</h3>
                    <p class="text-gray-600">Our AI assistant is always ready to help, no matter the time or day.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="bg-white py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Our Services</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="p-6 border rounded-lg hover:border-green-500 transition-colors">
                    <h4 class="font-semibold mb-2">Customer Support</h4>
                    <p class="text-gray-600 text-sm">Instant help with your questions and concerns</p>
                </div>
                <div class="p-6 border rounded-lg hover:border-green-500 transition-colors">
                    <h4 class="font-semibold mb-2">Product Information</h4>
                    <p class="text-gray-600 text-sm">Detailed information about our products and services</p>
                </div>
                <div class="p-6 border rounded-lg hover:border-green-500 transition-colors">
                    <h4 class="font-semibold mb-2">Technical Help</h4>
                    <p class="text-gray-600 text-sm">Technical assistance and troubleshooting guides</p>
                </div>
                <div class="p-6 border rounded-lg hover:border-green-500 transition-colors">
                    <h4 class="font-semibold mb-2">General Inquiries</h4>
                    <p class="text-gray-600 text-sm">Any other questions or information you need</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="bg-gray-100 py-16">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Get in Touch</h2>
            <p class="text-xl text-gray-600 mb-8">Have questions? Our AI chatbot is here to help!</p>
            <button onclick="toggleChat()" class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors">
                Start Chatting Now
            </button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2024 AI Chatbot Website. All rights reserved.</p>
        </div>
    </footer>

  <!-- Chatbot UI -->
  <div id="chatbot" class="fixed bottom-6 right-6 z-50">
    <!-- Chat Window -->
    <div id="chatWindow" class="hidden bg-white rounded-lg shadow-2xl w-80 h-96 mb-4 slide-up">
      <div class="bg-green-500 text-white p-4 rounded-t-lg flex justify-between items-center">
        <h3 class="font-bold">AI Assistant</h3>
        <button onclick="toggleChat()" class="text-white hover:text-gray-200">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <div id="messageHolder" class="chat-container p-4 space-y-3 overflow-y-auto"></div>

      <div class="typing-indicator p-4">
        <div class="message-bot p-3 rounded-lg flex items-center space-x-1">
          <span class="text-sm text-gray-600">AI is typing</span>
          <div class="flex space-x-1 ml-2">
            <div class="dot w-2 h-2 bg-gray-400 rounded-full"></div>
            <div class="dot w-2 h-2 bg-gray-400 rounded-full"></div>
            <div class="dot w-2 h-2 bg-gray-400 rounded-full"></div>
          </div>
        </div>
      </div>

      <div class="p-4 border-t">
        <div class="flex space-x-2">
          <input type="text" id="chat" name="chat"
            placeholder="Type your message..." 
            class="flex-1 border border-green-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"
          />
          <button id="btn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg">Send</button>
        </div>
      </div>
    </div>

    <!-- Chat Toggle -->
    <button id="chatToggle" onclick="toggleChat()" class="chat-toggle bg-green-500 hover:bg-green-600 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
      </svg>
    </button>
  </div>

  <!-- Toggle Chat JS -->
  <script>
    let chatOpen = false;

    function toggleChat() {
      const chatWindow = document.getElementById('chatWindow');
      const chatToggle = document.getElementById('chatToggle');
      chatOpen = !chatOpen;

      chatWindow.classList.toggle('hidden');

      chatToggle.innerHTML = chatOpen
        ? `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>`
        : `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>`;
    }
  </script>

  <!-- Gemini API Integration via Module -->
  <script type="importmap">
    {
      "imports": {
        "@google/generative-ai": "https://esm.run/@google/generative-ai"
      }
    }
  </script>

  <!-- Main chatbot logic file -->
  <script type="module" src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>
